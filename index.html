<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO: Primary Meta Tags -->
    <title>Life is Running</title>
    <meta name="description" content="A memento mori to reflect on the value of time.">
    <meta name="keywords" content="age calculator, life counter, live age counter, date of birth calculator, age in seconds, how old am I, real-time age, memento mori, time counter, life is running">
    <link rel="canonical" href="https://mmmmaharshi.github.io/runninglife/">

    <!-- SEO: Favicons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⏳</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⏳</text></svg>">

    <!-- SEO: Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mmmmaharshi.github.io/runninglife/">
    <meta property="og:title" content="Life is Running">
    <meta property="og:description" content="A memento mori to reflect on the value of time.">
    <meta property="og:image" content="https://raw.githubusercontent.com/mmmmaharshi/runninglife/refs/heads/main/og.jpg">

    <!-- SEO: Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://mmmmaharshi.github.io/runninglife/">
    <meta property="twitter:title" content="Life is Running">
    <meta property="twitter:description" content="A memento mori to reflect on the value of time.">
    <meta property="twitter:image" content="https://raw.githubusercontent.com/mmmmaharshi/runninglife/refs/heads/main/og.jpg">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'DotGothic16', sans-serif;
        }
        /* Custom style for the date picker icon to be visible on a dark background */
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
            cursor: pointer;
        }

        /* Custom Scrollbar Styles */
        /* For Webkit browsers like Chrome, Safari */
        ::-webkit-scrollbar {
            width: 12px; /* width of the entire scrollbar */
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a; /* color of the tracking area */
        }

        ::-webkit-scrollbar-thumb {
            background-color: #334155; /* color of the scroll thumb (slate-700) */
            border-radius: 6px; /* roundness of the scroll thumb */
            border: 3px solid #1a1a1a; /* creates padding around scroll thumb */
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: #64748b; /* color on hover (slate-500) */
        }
    </style>
</head>
<body class="bg-black text-slate-300">

    <!-- Main container -->
    <main class="min-h-screen flex flex-col items-center justify-center text-white p-4 space-y-12 sm:space-y-16">
      
        <!-- Header -->
        <header class="text-center">
            <p class="text-slate-500 text-sm sm:text-base">"No amount of money ever bought a second of time"</p>
        </header>

        <!-- Output display section -->
        <section id="ageOutput" class="flex flex-wrap justify-center items-baseline gap-x-6 sm:gap-x-10">
          <!-- Years -->
          <div class="text-center">
            <span id="years" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">0</span>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Years</p>
          </div>
          <!-- Months -->
          <div class="text-center">
            <span id="months" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">0</span>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Months</p>
          </div>
          <!-- Days -->
          <div class="text-center">
            <span id="days" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">0</span>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Days</p>
          </div>
          <!-- Hours -->
          <div class="text-center">
            <span id="hours" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">00</span>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Hours</p>
          </div>
          <!-- Minutes -->
          <div class="text-center">
            <span id="minutes" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">00</span>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Minutes</p>
          </div>
          <!-- Seconds -->
          <div class="text-center">
            <div class="flex items-baseline justify-center">
                <span id="seconds" class="text-6xl sm:text-7xl md:text-8xl font-bold text-slate-100 tabular-nums">00</span>
                <span id="milliseconds" class="text-4xl sm:text-5xl md:text-6xl font-bold text-slate-400 tabular-nums">.00</span>
            </div>
            <p class="text-slate-500 text-xs sm:text-sm tracking-widest uppercase mt-1">Seconds</p>
          </div>
        </section>
        
        <!-- Input section -->
        <footer class="flex flex-col items-center justify-center space-y-4">
            <div class="flex items-center gap-3">
              <label for="dobInput" class="text-slate-400 font-semibold">Date of Birth:</label>
              <input 
                type="date" 
                id="dobInput" 
                class="bg-transparent text-white text-lg border-b-2 border-slate-700 focus:border-blue-500 focus:outline-none transition-colors text-center w-48"
              >
            </div>
            <!-- Message area for errors or prompts -->
            <div id="message" class="text-center text-yellow-500 font-semibold min-h-[1.5rem]"></div>
        </footer>
    </main>

    <script>
        // Get references to all the HTML elements we'll be interacting with
        const dobInput = document.getElementById('dobInput');
        const yearsEl = document.getElementById('years');
        const monthsEl = document.getElementById('months');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');
        const millisecondsEl = document.getElementById('milliseconds');
        const messageEl = document.getElementById('message');

        let intervalId = null;

        // --- UX Improvement: Set max date to today so user can't select a future date ---
        const today = new Date();
        const yyyy = today.getFullYear();
        // Months are 0-indexed, so we add 1. PadStart ensures it's '0M' if month < 10.
        const mm = String(today.getMonth() + 1).padStart(2, '0'); 
        const dd = String(today.getDate()).padStart(2, '0');
        dobInput.max = `${yyyy}-${mm}-${dd}`;

        // --- Event Listener: Triggered when the user selects a date ---
        dobInput.addEventListener('change', () => {
            // Clear any previously running counter to avoid multiple intervals
            if (intervalId) {
                clearInterval(intervalId);
            }
            
            const dobValue = dobInput.value;
            // If the input is cleared, reset the display and remove from storage
            if (!dobValue) {
                localStorage.removeItem('userDOB');
                resetDisplay();
                return;
            }
            
            // Save the valid date to localStorage
            localStorage.setItem('userDOB', dobValue);
            
            // The input value is just a string, so we create a Date object from it.
            // Appending T00:00:00 ensures it's parsed at midnight in the user's local timezone.
            const birthDate = new Date(dobValue + 'T00:00:00');
            
            // --- Validation ---
            if (isNaN(birthDate.getTime()) || birthDate > new Date()) {
                messageEl.textContent = 'Please select a valid date in the past.';
                resetDisplay();
                return;
            } else {
                messageEl.textContent = ''; // Clear any previous error messages
            }

            // --- The main calculation and display update function ---
            const startCounter = () => {
                const now = new Date();
                
                // Calculate initial differences
                let years = now.getFullYear() - birthDate.getFullYear();
                let months = now.getMonth() - birthDate.getMonth();
                let days = now.getDate() - birthDate.getDate();
                let hours = now.getHours() - birthDate.getHours();
                let minutes = now.getMinutes() - birthDate.getMinutes();
                let seconds = now.getSeconds() - birthDate.getSeconds();
                let milliseconds = now.getMilliseconds();
                
                // --- "Borrowing" logic to correct negative values ---
                // Note: Milliseconds are handled by the seconds "borrow"
                if (seconds < 0) {
                    seconds += 60;
                    minutes--;
                }
                if (minutes < 0) {
                    minutes += 60;
                    hours--;
                }
                if (hours < 0) {
                    hours += 24;
                    days--;
                }
                if (days < 0) {
                    // Get days in the previous month relative to 'now'
                    const daysInLastMonth = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
                    days += daysInLastMonth;
                    months--;
                }
                if (months < 0) {
                    months += 12;
                    years--;
                }
                
                // --- Update the display with the calculated values ---
                yearsEl.textContent = years;
                monthsEl.textContent = months;
                daysEl.textContent = days;
                hoursEl.textContent = String(hours).padStart(2, '0');
                minutesEl.textContent = String(minutes).padStart(2, '0');
                secondsEl.textContent = String(seconds).padStart(2, '0');
                millisecondsEl.textContent = '.' + String(Math.floor(milliseconds / 10)).padStart(2, '0');
            };

            startCounter(); // Call once immediately to show the age without a 1-second delay
            intervalId = setInterval(startCounter, 10); // Then update every 10ms for smooth decimals
        });

        // --- Function to reset the display to its initial state ---
        function resetDisplay() {
            messageEl.textContent = 'Enter your date of birth to begin.';
            yearsEl.textContent = '0';
            monthsEl.textContent = '0';
            daysEl.textContent = '0';
            hoursEl.textContent = '00';
            minutesEl.textContent = '00';
            secondsEl.textContent = '00';
            millisecondsEl.textContent = '.00';
        }

        // --- Check for a saved date on page load ---
        function initializeCounter() {
            const savedDOB = localStorage.getItem('userDOB');
            if (savedDOB) {
                dobInput.value = savedDOB;
                // Manually trigger the 'change' event to start the counter
                dobInput.dispatchEvent(new Event('change'));
            } else {
                resetDisplay();
            }
        }

        // --- Start the app ---
        initializeCounter();
    </script>

</body>
</html>




